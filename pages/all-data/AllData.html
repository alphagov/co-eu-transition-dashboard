{% extends "template.njk" %}

{% from "govuk/components/tabs/macro.njk" import govukTabs %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/accordion/macro.njk" import govukAccordion %}

{% block pageTitle %}{{ index }}{% endblock %}

{% block content %}

{{ projects() | await | dump }}

<h1 class="govuk-heading-xl">{{ index }}</h1>

{% set dateHtml %}
<h2 class="govuk-heading-s">View project delivery data</h2>
<div class="govuk-grid-row">
<div class="govuk-grid-column-one-third">
{{ govukInput({
  label: {
    text: "From"
  },
  classes: "govuk-input--width-10",
  hint: {
    text: "For example 01/01/2020"
  },
    id: "from-date",
    name: "from-date"
}) }}
</div>

<div class="govuk-grid-column-one-third">
{{ govukInput({
  label: {
    text: "To"
  },
  classes: "govuk-input--width-10",
  hint: {
    text: "For example 01/01/2021"
  },
    id: "to-date",
    name: "to-date"
}) }}
</div>
</div>
{% endset -%}

{% set impactHtml %}
<h2 class="govuk-heading-s">Select impact level</h2>
{{ govukCheckboxes({
  idPrefix: "impact-level",
  name: "impact",
  items: [
    {
      value: "0",
      text: "0 - Very high impact"
    },
    {
      value: "1",
      text: "1 - High impact"
    },
    {
      value: "2",
      text: "2 - Medium impact"
    },
    {
      value: "3",
      text: "3 - High impact"
    }
  ]
}) }}
{% endset -%}


{{ govukTabs({
  items: [
    {
      label: "Filter by",
      id: "filter",
      panel: {
      }
    },
    {
      label: "Date",
      id: "date",
      panel: {
        html: dateHtml
      }
    },
    {
      label: "Impact",
      id: "impact",
      panel: {
        html: impactHtml
      }
    },
    {
      label: "Delivey confidence",
      id: "delivery-confience",
      panel: {
      }
    },
    {
      label: "Department",
      id: "department",
      panel: {
      }
    },
    {
      label: "Project",
      id: "project",
      panel: {
      }
    },
    {
      label: "Status",
      id: "status",
      panel: {
      }
    }
  ]
}) }}


<h2 class="govuk-heading-m">309 Projects displayed</h2>
<span class="govuk-caption-m">From 1st Jan 2020 to 1st Jan 2021</span>

{{ govukTable({
  head: [
    {
      text: "Month you apply"
    },
    {
      text: "Rate for bicycles"
    },
    {
      text: "Rate for vehicles"
    }
  ]
}) }}

{% set headerHtml %}
{{ govukTable({
  rows: [
    [
      {
        text: "January"
      },
      {
        text: "£85"
      },
      {
        text: "95"
      }
    ]
  ]
}) }}
{% endset -%}

{% set sectionHtml %}
{{ govukTable({
  head: [
    {
      text: "Month you apply"
    },
    {
      text: "Rate for bicycles"
    },
    {
      text: "Rate for vehicles"
    }
  ],
  rows: [
    [
      {
        text: "January"
      },
      {
        text: "£85"
      },
      {
        text: "95"
      }
    ],
    [
      {
        text: "February"
      },
      {
        text: "£75"
      },
      {
        text: "£65"
      }
    ],
    [
      {
        text: "March"
      },
      {
        text: "£65"
      },
      {
        text: "£42"
      }
    ]
  ]
}) }}
{% endset -%}


{{ govukAccordion({
  id: "accordion-with-summary-sections",
  items: [
    {
      summary: {
        html: headerHtml
      },
      content: {
        html: sectionHtml
      }
    },
    {
      summary: {
        html: headerHtml
      },
      content: {
        html: sectionHtml
      }
    }
  ]
}) }}


{#

<div class="govuk-tabs" data-module="govuk-tabs">
  <ul class="govuk-tabs__list">
    <li class="govuk-tabs__list-item" id="static-tab">
      <a class="govuk-tabs__tab" href="#filter">
        Filter by
      </a>
    </li>
    <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
      <a class="govuk-tabs__tab" href="#date">
        Date
      </a>
    </li>
    <li class="govuk-tabs__list-item">
      <a class="govuk-tabs__tab" href="#impact">
        Impact
      </a>
    </li>
    <li class="govuk-tabs__list-item">
      <a class="govuk-tabs__tab" href="#delivery-confidence">
        Delivery confidence
      </a>
    </li>
    <li class="govuk-tabs__list-item">
      <a class="govuk-tabs__tab" href="#department">
        Department
      </a>
    </li>
    <li class="govuk-tabs__list-item">
      <a class="govuk-tabs__tab" href="#project">
        Project
      </a>
    </li>
    <li class="govuk-tabs__list-item">
      <a class="govuk-tabs__tab" href="#status">
        Status
      </a>
    </li>
  </ul>

  <section class="govuk-tabs__panel govuk-tabs__panel--hidden" id="filter">

  </section>

  <section class="govuk-tabs__panel" id="date">
    <h2 class="govuk-heading-s">View project delivery data</h2>

    <div class="govuk-grid-row">

      <div class="govuk-grid-column-one-third">
        <div class="govuk-form-group">
          <label class="govuk-label" for="from-date">
            From
          </label>
          <span id="from-date-hint" class="govuk-hint">
            For example 01/01/2020
          </span>
          <input class="govuk-input govuk-input--width-10" id="from-date" name="from-date" type="text" aria-describedby="from-date-hint">
        </div>
      </div>

      <div class="govuk-grid-column-one-third">
        <div class="govuk-form-group">
          <label class="govuk-label" for="to-date">
            To
          </label>
          <span id="to-date-hint" class="govuk-hint">
            For example 01/01/2021
          </span>
          <input class="govuk-input govuk-input--width-10" id="to-date" name="to-date" type="text" aria-describedby="to-date-hint">
        </div>
      </div>

    </div>

  </section>

  <section class="govuk-tabs__panel govuk-tabs__panel--hidden" id="impact">

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-quarter">
    <h2 class="govuk-heading-s">Select impact level</h2>
    </div>
      <div class="govuk-grid-column-one-quarter">
          <a class="govuk-link" id="all-impact" href="#">Select all</a>
    </div>

    </div>

    <div class="govuk-form-group">
    <div class="govuk-checkboxes" data-module="govuk-checkboxes">

      <div class="govuk-checkboxes__item">
        <input class="govuk-checkboxes__input" id="impact-0" name="impact" type="checkbox" value="0">
        <label class="govuk-label govuk-checkboxes__label" for="impact-0">
          0 - Very high impact
        </label>
      </div>

      <div class="govuk-checkboxes__item">
        <input class="govuk-checkboxes__input" id="impact-1" name="impact" type="checkbox" value="1">
        <label class="govuk-label govuk-checkboxes__label" for="impact-1">
          1 - High impact
        </label>
      </div>

      <div class="govuk-checkboxes__item">
        <input class="govuk-checkboxes__input" id="impact-2" name="impact" type="checkbox" value="2">
        <label class="govuk-label govuk-checkboxes__label" for="impact-2">
          2 - Medium impact
        </label>
      </div>

      <div class="govuk-checkboxes__item">
        <input class="govuk-checkboxes__input" id="impact-3" name="impact" type="checkbox" value="3">
        <label class="govuk-label govuk-checkboxes__label" for="impact-3">
          3 - Low impact
        </label>
      </div>

    </div>
   </div>
  </section>

  <section class="govuk-tabs__panel govuk-tabs__panel--hidden" id="delivery-confidence">
    <h2 class="govuk-heading-s">Delivery confidence</h2>

  </section>

  <section class="govuk-tabs__panel govuk-tabs__panel--hidden" id="department">
    <h2 class="govuk-heading-s">Department</h2>

  </section>

  <section class="govuk-tabs__panel govuk-tabs__panel--hidden" id="project">
    <h2 class="govuk-heading-s">Project</h2>

  </section>

  <section class="govuk-tabs__panel govuk-tabs__panel--hidden" id="status">
    <h2 class="govuk-heading-s">Status</h2>

  </section>
</div>



<div class="govuk-accordion" data-module="govuk-accordion" id="accordion-with-summary-sections">
   <div class="govuk-accordion__section">
      <div class="govuk-accordion__section-header">
         <table class="govuk-table">
            <div class="govuk-accordion__section-summary govuk-body" id="accordion-with-summary-sections-summary-1">
               <tbody class="govuk-table__body">
                  <tr class="govuk-table__row">
                     <td class="govuk-table__cell">March</td>
                     <td class="govuk-table__cell">£165</td>
                     <td class="govuk-table__cell">£125</td>
                     <h2 class="govuk-accordion__section-heading">
                        <span class="govuk-accordion__section-button" id="accordion-with-summary-sections-heading-1">
                        </span>
                     </h2>
                  </tr>
               </tbody>
            </div>
         </table>
      </div>
      <div id="accordion-with-summary-sections-content-1" class="govuk-accordion__section-content" aria-labelledby="accordion-with-summary-sections-heading-1">
         <table class="govuk-table">
            <thead class="govuk-table__head">
               <tr class="govuk-table__row">
                  <th scope="col" class="govuk-table__header">Month you apply</th>
                  <th scope="col" class="govuk-table__header">Rate for bicycles</th>
                  <th scope="col" class="govuk-table__header">Rate for vehicles</th>
               </tr>
            </thead>
            <tbody class="govuk-table__body">
               <tr class="govuk-table__row">
                  <td class="govuk-table__cell">January</td>
                  <td class="govuk-table__cell">£85</td>
                  <td class="govuk-table__cell">£95</td>
               </tr>
               <tr class="govuk-table__row">
                  <td class="govuk-table__cell">February</td>
                  <td class="govuk-table__cell">£75</td>
                  <td class="govuk-table__cell">£55</td>
               </tr>
            </tbody>
         </table>
      </div>
   </div>
   <div class="govuk-accordion__section ">
      <div class="govuk-accordion__section-header">
         <table class="govuk-table">
            <div class="govuk-accordion__section-summary govuk-body" id="accordion-with-summary-sections-summary-2">
               <tbody class="govuk-table__body">
                  <tr class="govuk-table__row">
                     <td class="govuk-table__cell">March</td>
                     <td class="govuk-table__cell">£165</td>
                     <td class="govuk-table__cell">£125</td>
                     <h2 class="govuk-accordion__section-heading">
                        <span class="govuk-accordion__section-button" id="accordion-with-summary-sections-heading-2">
                        </span>
                     </h2>
                  </tr>
               </tbody>
            </div>
         </table>
      </div>
      <div id="accordion-with-summary-sections-content-2" class="govuk-accordion__section-content" aria-labelledby="accordion-with-summary-sections-heading-2">
         <table class="govuk-table">
            <thead class="govuk-table__head">
               <tr class="govuk-table__row">
                  <th scope="col" class="govuk-table__header">Month you apply</th>
                  <th scope="col" class="govuk-table__header">Rate for bicycles</th>
                  <th scope="col" class="govuk-table__header">Rate for vehicles</th>
               </tr>
            </thead>
            <tbody class="govuk-table__body">
               <tr class="govuk-table__row">
                  <td class="govuk-table__cell">January</td>
                  <td class="govuk-table__cell">£85</td>
                  <td class="govuk-table__cell">£95</td>
               </tr>
               <tr class="govuk-table__row">
                  <td class="govuk-table__cell">February</td>
                  <td class="govuk-table__cell">£75</td>
                  <td class="govuk-table__cell">£55</td>
               </tr>
            </tbody>
         </table>
      </div>
   </div>
</div>

#}

<form action="{{ url }}" method="post">
  <label for="fname">First name:</label>
  <input type="text" id="fname" name="fname" value="{{ form.fname }}"><br><br>
  <label for="lname">Last name:</label>
  <input type="text" id="lname" name="lname" value="{{ form.lname }}"><br><br>
  <input type="submit" value="Submit">
</form>


{% endblock %}