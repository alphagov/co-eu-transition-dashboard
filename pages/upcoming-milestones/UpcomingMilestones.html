{% extends "template.njk" %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}
{% from "govuk/components/accordion/macro.njk" import govukAccordion %}
{% from "govuk/components/table/macro.njk" import govukTable %}

{% set departmentsWithUpcomingMilestone = getDepartmentsWithUpcomingMilestones() | await  %}

{% block pageTitle %}Upcoming Milestones{% endblock %}

{% block content %}

<div class="govuk-grid-row">
{# change width depending on whether filters is shown or not #}
  <div class="govuk-grid-column-full">

  <h1 class="govuk-heading-xl">Upcoming milestones</h1>

<div id="timeline">
{# Loop through dates #}
  <h3 class="govuk-heading-m milestone-date">17 April 2020 
  <span class="milestone-count department">30</span>
{# Loop through and display depending on milestone count -1 #}
  <span class="milestone-count milestone"></span>
{# Loop through and display depending on milestone count -1 #}
  </h3>
  <p class="govuk-body"><a href="#" class="govuk-link see-more" onclick="return false;">See more</a></p>

{# Loop through all departments #}
  <div class="upcoming-milestones">
    <hr class="govuk-section-break govuk-section-break--visible">
    <h4 class="govuk-heading-s">Department <span class="milestone-count">3</span> </h4> 
    {# Loop for a department #}
      <p class="govuk-body"><a href="{{ config.paths.projectDetails }}" class="govuk-link">Project Title</a> Theme</p>
      <div class="milestones">
        <p class="govuk-body"><a href="{{ config.paths.milestoneDetails }}" class="govuk-link">Milestone UID</a></p>
        <span class="govuk-caption-m">Milestone delivery confidence: 0</span>
        <p class="govuk-body">Milestone description</p>
      </div>
    {# Loop for a department #}
  </div>
{# Loop through all departments #}
{# Loop through dates #}
</div>

  </div>
</div>

{% endblock %}

{% block afterScript %}
  <script>
    TRANSITIONDELIVERYDASHBOARD.seeMore();
  </script>
{% endblock %}
